!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).WeberryCollapse=e()}}(function(){return function o(a,l,h){function r(t,e){if(!l[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=l[t]={exports:{}};a[t][0].call(s.exports,function(e){return r(a[t][1][e]||e)},s,s.exports,o,a,l,h)}return l[t].exports}for(var d="function"==typeof require&&require,e=0;e<h.length;e++)r(h[e]);return r}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e("./utils");function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a={collapsingClass:"is-collapsing",collapsedClass:"is-collapsed",toggleData:"data-open",openInitially:!1,clearHeightShown:!0,calcHeightShowFn:null,handlerShow:function(){},handlerShown:function(){},handlerBeforeShow:function(){return!0},handlerHide:function(){},handlerHidden:function(){},handlerBeforeHide:function(){return!0},handlerDestroy:function(){}},n=function(){function n(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e.WeberryCollapse)return e.WeberryCollapse;var i=Object.assign({},a,t);this.elem=e,this.options=i,this.isOpen=i.openInitially,this.showInProgress=!1,this.hideInProgress=!1,this.heightInitial=null,this.heightFinal=null,this.name=e.getAttribute("id"),this.toggleElems=[],this.animationShow=null,this.animationHide=null,this._p={toggleListener:null,eventsTag:0,events:{}},(e.WeberryCollapse=this).init()}return function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(n,[{key:"prepareToShow",value:function(){this.heightInitial=this.elem.offsetHeight,this.heightFinal=this.options.calcHeightShowFn()}},{key:"setCalcHeightShowFn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.calcHeightDefault.bind(this);this.options.calcHeightShowFn=e}},{key:"calcHeightDefault",value:function(){var e=this.elem;e.style.height="auto",e.style.display="block";var t=e.offsetHeight;return e.style.height="",e.style.display="",t}},{key:"toggle",value:function(){this.isOpen?this.hide():this.show()}},{key:"init",value:function(){this.options.calcHeightShowFn?this.setCalcHeightShowFn(this.options.calcHeightShowFn):this.setCalcHeightShowFn(),this.isOpen&&(this.prepareToShow(),(0,s.addClass)(this.elem,this.options.collapsedClass)),this.toggleElemsInit()}},{key:"destroy",value:function(){var e=this.options,t=this.elem;this.destroyAnimationShow(),this.destroyAnimationHide(),this.clearEvents(),this.toggleElemsDestroy(),this.resetClassList(),t.style.display="",t.style.height="",e.handlerDestroy(t),delete t.WeberryCollapse}},{key:"resetClassList",value:function(){(0,s.removeClass)(this.elem,this.options.collapsingClass),(0,s.removeClass)(this.elem,this.options.collapsedClass)}},{key:"reset",value:function(){var e=this.options.openInitially;this.showInProgress=!1,this.hideInProgress=!1,this.destroyAnimationShow(),this.destroyAnimationHide(),this.isOpen=e,this.setCalcHeightShowFn(),this.toggleElemsSetState(e),e?(this.elem.style.display="",this.elem.style.height="",(0,s.removeClass)(this.elem,this.options.collapsingClass),(0,s.addClass)(this.elem,this.options.collapsedClass)):this.resetClassList()}},{key:"show",value:function(){var e=this.hideInProgress,t=this.showInProgress,i=this.options,n=this.elem;!1!==i.handlerBeforeShow()&&(t||e||this.prepareToShow(),this.heightInitial>=this.heightFinal||(this.showInProgress=!0,this.isOpen=!0,this.toggleElemsSetState(!0),this.elem.dispatchEvent(h),i.handlerShow(),this.hideInProgress&&n.offsetHeight===this.heightInitial||this.animateShow()))}},{key:"hide",value:function(){var e=this.elem,t=this.options,i=this.showInProgress;!1===t.handlerBeforeHide()||e.offsetHeight<=this.heightInitial||((0,s.removeClass)(e,t.collapsedClass),this.hideInProgress=!0,this.isOpen=!1,this.toggleElemsSetState(!1),e.dispatchEvent(d),t.handlerHide(),i&&e.offsetHeight===this.heightFinal||this.animateHide())}},{key:"animateShow",value:function(){function e(){(0,s.removeClass)(t,i.collapsingClass),(0,s.addClass)(t,i.collapsedClass),i.clearHeightShown&&(t.style.height=""),n.showInProgress=!1,t.dispatchEvent(r),i.handlerShown(),n.hideInProgress&&(n.hideInProgress=!1,n.hide())}var t=this.elem,i=this.options,n=this;this.hideInProgress?(this.destroyAnimationHide(),this.hideInProgress=!1,this.animationShow=(0,s.transitionAnimate)(t,{immediately:!0,animation:function(){t.style.height=n.heightFinal+"px"},onComplete:e})):this.animationShow=(0,s.transitionAnimate)(t,{beforeStart:function(){t.style.height=n.heightInitial+"px",(0,s.addClass)(t,i.collapsingClass)},animation:function(){t.style.height=n.heightFinal+"px"},onComplete:e})}},{key:"animateHide",value:function(){function e(){(0,s.removeClass)(i,n.collapsingClass),i.style.height="",t.hideInProgress=!1,i.dispatchEvent(c),n.handlerHidden(),t.showInProgress&&(t.showInProgress=!1,t.show())}var t=this,i=this.elem,n=this.options;this.showInProgress?(this.destroyAnimationShow(),this.showInProgress=!1,this.animationHide=(0,s.transitionAnimate)(i,{immediately:!0,animation:function(){i.style.height=t.heightInitial+"px"},onComplete:e})):this.animationHide=(0,s.transitionAnimate)(i,{beforeStart:function(){i.style.height=t.heightFinal+"px",(0,s.addClass)(i,t.options.collapsingClass)},animation:function(){i.style.height=t.heightInitial+"px"},onComplete:e})}}]),n}();n.prototype.toggleElemsInit=function(){function t(e){e.preventDefault(),i.toggle()}var i=this,n=this.isOpen,s=this.options,e=this._p,o=this.name,a=Array.from(document.querySelectorAll('[href="#'.concat(o,'"],[data-target="#').concat(o,'"]')));e.toggleListener=t,a.forEach(function(e){e.setAttribute(s.toggleData,n),e.addEventListener("click",t)}),this.toggleElems=a},n.prototype.toggleElemsSetState=function(t){var i=this.options;this.toggleElems.forEach(function(e){e.setAttribute(i.toggleData,t)})},n.prototype.toggleElemsDestroy=function(){var e=this.toggleElems,t=this._p,i=this.options;e.forEach(function(e){e.removeAttribute(i.toggleData),e.removeEventListener("click",t.toggleListener)})},n.prototype.destroyAnimationShow=function(){var e=this.animationShow;e&&e.destroy&&e.destroy()},n.prototype.destroyAnimationHide=function(){var e=this.animationHide;e&&e.destroy&&e.destroy()};var l={show:"wbry.collapse.show",shown:"wbry.collapse.shown",hide:"wbry.collapse.hide",hidden:"wbry.collapse.hidden"},h=new CustomEvent(l.show),r=new CustomEvent(l.shown),d=new CustomEvent(l.hide),c=new CustomEvent(l.hidden);n.prototype.clearEvents=function(){var n=this,s=this._p.events;Object.keys(s).forEach(function(e){var t=s[e].event,i=s[e].fn;n.off(t,i)}),this._p.events={},this._p.eventsTag=0},n.prototype.on=function(e,t){var i=this._p;i.events["event".concat(i.eventsTag)]={event:e,fn:t},i.eventsTag+=1,this.elem.addEventListener(l[e],t)},n.prototype.off=function(e,t){this.elem.removeEventListener(l[e],t)};var u=window.WeberryCollapse=n;i.default=u},{"./utils":2}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.transitionAnimate=i.whichTransitionEvent=i.domById=i.arrayByClass=i.removeClass=i.addClass=void 0;i.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)};i.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))};i.arrayByClass=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).getElementsByClassName(e);return void 0===t?t:Array.from(t)};i.domById=function(e){1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return document.getElementById(e)};function n(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}var h=(i.whichTransitionEvent=n)();i.transitionAnimate=function(t,e){function i(e){e.stopPropagation(),t.removeEventListener(h,i),o()}var n,s=e.animation,o=e.onComplete||function(){},a=e.beforeStart||function(){},l=e.immediately||!1;return a(),t.addEventListener(h,i),l?s():n=setTimeout(s,50),{destroy:function(){clearTimeout(n),t.removeEventListener(h,i)}}}},{}]},{},[1])(1)});